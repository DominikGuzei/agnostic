(function(e){"use strict";function t(e,t){e.toString=function(){return t}}function n(e,t){e.toString=function(){return t}}function r(e,t){e.prototype.toString=function(){return t}}var i=function(e,t,s){var o,u,a;if(typeof e!="string")throw new Error('Please give your class a name. Pass "true" as last parameter to avoid global namespace pollution');return o=t.Extends||null,delete t.Extends,u=t.Implements||null,delete t.Implements,a=t.initialize||null,delete t.initialize,a||(o?a=function(){o.apply(this,arguments)}:a=function(){}),n(a,e),i.inherit(a,o),i.implement(a,u),r(a,e),i.extend(a,t,!0),s||i.namespace(e,a),a};i.augment=function(e,n,r){var i,s,o,u,a,f;for(i in n)if(n.hasOwnProperty(i)){o=e.hasOwnProperty(i);if(r||!o)s=e[i]=n[i],typeof s=="function"&&(a=n.toString===Object.prototype.toString,f=a?e.constructor:n.constructor,t(s,f+"::"+i))}},i.extend=function(e,t,n){t.STATIC&&(e.Super&&i.augment(e,e.Super._STATIC_,!0),i.augment(e,t.STATIC,!0),e._STATIC_=t.STATIC,delete t.STATIC),i.augment(e.prototype,t,n)},i.inherit=function(e,t){if(t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Super=t,i.extend(e,t,!1)}},i.implement=function(e,t){if(t){var n;typeof t=="function"&&(t=[t]);for(n=0;n<t.length;n+=1)i.augment(e.prototype,t[n].prototype,!1)}},i.namespace=function(t,n){if(typeof e["define"]=="undefined"){var r,i,s,o,u;r=t.split("."),i=r[r.length-1],s=e;for(u=0;u<r.length-1;u+=1)o=r[u],typeof s[o]=="undefined"&&(s[o]={}),s=s[o];s[i]=n}},typeof define!="undefined"?define("Class",[],function(){return i}):e&&(e.Class=i)})(typeof define!="undefined"||typeof window=="undefined"?exports:window),function(e){"use strict";function t(e){function n(e,n,r){return function(){var r="Missing implementation for <"+this+"::"+n+"> defined by interface "+e;throw new t(r)}}var t=function(e){this.name="ImplementationMissingError",this.message=e||""};t.prototype=Error.prototype;var r=function(t,r,i){if(typeof t!="string")throw new Error('Please give your interface a name. Pass "true" as last parameter to avoid global namespace pollution');var s=function(){},o=t.split("."),u=o[o.length-1],a,f;for(a in r)r.hasOwnProperty(a)&&(f=r[a],s.prototype[a]=n(u,a,f));return i||e.namespace(t,s),s.toString=function(){return u},s};return r.ImplementationMissingError=t,r}if(typeof define!="undefined")define("Interface",["Class"],function(e){return t(e)});else if(typeof window!="undefined")e.Interface=t(e.Class);else{var n=require("./Class").Class;e.Interface=t(n)}}(typeof define!="undefined"||typeof window=="undefined"?exports:window),function(e){"use strict";var t={};typeof define!="undefined"?define("agnostic",[],function(){return t}):e&&(e.agnostic=t)}(typeof define!="undefined"||typeof window=="undefined"?exports:window),function(e){"use strict";function t(e){return e("agnostic.injection.SingletonProvider",{_type:null,_instance:null,initialize:function(e){this._type=e},provideInstance:function(){return this._instance||this._createSingleton()},getType:function(){return this._type},_createSingleton:function(){return this._instance=new this._type}})}var n;typeof define!="undefined"?define("agnostic/injection/SingletonProvider",["Class"],function(e){return t(e)}):typeof window!="undefined"?(n=e.Class,t(n)):(n=require("../../../src/Class").Class,e.SingletonProvider=t(n))}(typeof define!="undefined"||typeof window=="undefined"?exports:window),function(e){"use strict";function t(e,t){return e("agnostic.injection.InjectionMapping",{_requestType:null,_responseType:null,_dependencyProvider:null,initialize:function(e){this._requestType=e},toSingleton:function(e){return this._responseType=e,this._dependencyProvider=new t(e),this},asSingleton:function(){return this.toSingleton(this._requestType)},getProvider:function(){return this._dependencyProvider},getResponseType:function(){return this._responseType},getRequestType:function(){return this._requestType},getInstance:function(){return this._dependencyProvider.provideInstance()}})}var n,r;typeof define!="undefined"?define("agnostic/injection/InjectionMapping",["Class","SingletonProvider"],function(e,n){return t(e,n)}):typeof window!="undefined"?(n=e.Class,r=e.agnostic.injection.SingletonProvider,t(n,r)):(n=require("../../../src/Class").Class,r=require("./SingletonProvider").SingletonProvider,e.InjectionMapping=t(n,r))}(typeof define!="undefined"||typeof window=="undefined"?exports:window),function(e){"use strict";function t(e,t){return e("agnostic.injection.Injector",{_typeMappings:[],map:function(e){var n=new t(e);return this._typeMappings.push(n),n},injectInto:function(e){this._injectInto(e,null)},getInstanceFor:function(e){return this._getInstanceFor(e,null)},_getInstanceFor:function(e,t,n){var r,i,s=null;for(var o=0;o<this._typeMappings.length;o++){r=this._typeMappings[o];if(r.getRequestType()===e)return s=r.getInstance(),i=this._typeIsDependentOn(e,t)?!0:!1,n||this._injectInto(s,e,t,i),s}},_injectInto:function(e,t,n,r){if(e&&e.Dependencies){var i,s,o,u=e.Dependencies;for(i in u)if(u.hasOwnProperty(i)){s=u[i],r&&s===n?o=this._getInstanceFor(s,t,!0):o=this._getInstanceFor(s,t);if(o==null)throw new Error("Type "+s+" is required by "+e+" but was not mapped on the injector.");e[i]=o}}},_typeIsDependentOn:function(e,t){var n,r=e.prototype.Dependencies;if(typeof r!="object"||t===null)return!1;for(n in r)if(r.hasOwnProperty(n)&&r[n]===t)return!0;return!1}})}var n,r;typeof define!="undefined"?define("agnostic/injection/Injector",["Class","InjectionMapping"],function(e,n){return t(e,n)}):typeof window!="undefined"?(n=e.Class,r=e.agnostic.injection.InjectionMapping,e.agnostic.injection.Injector=t(n,r)):(n=require("../../../src/Class").Class,r=require("../../../src/agnostic/injection/InjectionMapping").InjectionMapping,e.Injector=t(n,r))}(typeof define!="undefined"||typeof window=="undefined"?exports:window);